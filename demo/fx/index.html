<!DOCTYPE html>
<html lang="en">
<head>
    <title>信宜市人民法院案件数据分析平台</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <script src="lib/echarts/echarts.min.js"></script>
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="lib/bootstrap/js/bootstrap.min.js"></script> 
    <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <script src="lib/layui/layui.all.js"></script> 
    <link href="lib/layui/css/layui.css" rel="stylesheet">
    <link href="css/base.css" rel="stylesheet">
</head>
<body>
    <div class="lsc-main">
        <header class="lsc-header">
            <div class="lsc-header__left">
                <div class="logo">
                    <img src="images/court.png">
                </div>
                <span class="h2">信宜市人民法院案件数据分析平台</span>
            </div>
            <div class="lsc-header__right">
                <ul class="menu-list">
                    <li class="on">
                        <a href="javascript:;">概况</a>
                    </li>
                    <li>
                        <a href="civil.html">民事主题</a>
                    </li>
                    <li>
                        <a href="javascript:;">刑事主题</a>
                    </li>
                    <li>
                        <a href="javascript:;">执行主题</a>
                    </li>
                </ul>
            </div>
        </header>
        <div class="lsc-content">
            <div class="layout-wrap row">
                <div class="col-md-3">
                    <div class="col-h6">
                        <div class="lsc-layout">
                            <div class="lsc-layout boxall flex flex-column">
                                <div class="alltitle">Top10案件</div>
                                <div id="echarts02" class="flex-auto"></div>
                                <div class="boxfoot"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-h4">
                        <div class="lsc-layout boxall flex flex-column">
                            <div class="alltitle">本月累计收案</div>
                            <div id="echarts01" class="flex-auto"></div>
                            <div class="echarts-legend">
                                <p class="flex-ac">
                                    <span class="legend-item" style="background:#62b62f;"></span>
                                    <span style="color: #62b62f;">民事</span>   
                                    <span>335件</span>
                                    <span>占比：56%</span>
                                </p>
                                <p class="flex-ac">
                                    <span class="legend-item" style="background:#fbcb00;"></span>
                                    <span style="color: #fbcb00;">刑事</span>   
                                    <span>110件</span>
                                    <span>占比：18.3%</span>
                                </p>
                                <p class="flex-ac">
                                    <span class="legend-item" style="background:#0088cc;"></span>
                                    <span style="color: #0088cc;">执行</span>   
                                    <span>154件</span>
                                    <span>占比：25.7%</span>
                                </p>
                            </div>
                            <div class="boxfoot"></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="col-h7 flex flex-column">
                        <div class="layout-tab">
                            <div class="layout-tab-menu">
                                <a href="javascript:;">按年分析</a>
                                <a href="javascript:;">按季度分析</a>
                                <a href="javascript:;" class="active">按月分析</a>
                            </div>
                            <div class="date-wrap">
                                <div class="date-item"><span class="date-text">2019年</span><span class="layui-btn layui-btn-xs layui-btn-normal" id="openYear">更换年份</span></div>
                                <div class="date-item"><span class="date-text">2019年第二季度</span><span class="layui-btn layui-btn-xs layui-btn-normal" id="openQuarter">更换季度</span></div>
                                <div class="date-item on"><span class="date-text">2019年8月</span><span class="layui-btn layui-btn-xs layui-btn-normal" id="openMonth">更换月份</span></div>
                            </div>
                            
                        </div>
                        <div class="layout-tab-content">
                            <div class="alltitle map-title">各镇案件量分布情况<div class="fr">总案件量：<span class="counter">3840</span>件</div></div>
                            <div class="map-label-list">
                                <div class="mll-item"><span class="mll-item-label" style="background-color: #700897;"></span>2000</div>
                                <div class="mll-item"><span class="mll-item-label" style="background-color: #645dd3;"></span>1000</div>
                                <div class="mll-item"><span class="mll-item-label" style="background-color: #4d8cea;"></span>500</div>
                                <div class="mll-item"><span class="mll-item-label" style="background-color: #a1bbfb;"></span>100</div>
                                <div class="mll-item"><span class="mll-item-label" style="background-color: #b6c7ff;"></span>10</div>
                            </div>
                            <div class="lsc-layout map-wrap">
                                <div id="mapadd" style="width: 100%;height: 100%;"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-h3">
                        <div class="lsc-layout">
                            <div class="lsc-layout boxall flex flex-column">
                                <div class="alltitle">月度总结分析</div>
                                <div class="flex-auto flex">
                                    <div class="text-box">
                                        <p class="on">1、一月平塘镇案件量偏高</p>
                                        <p>2、四月案件总量同比增长较高</p>
                                        <p>3、二月刑事案件占比较高</p>
                                    </div>
                                    <div class="text-box-r">
                                        <div class="text-box-item on">
                                            今年1月案件123条，同比去年80条增长50%
                                        </div>
                                        <div class="text-box-item">
                                            今年4月案件345条，同比去年30条增长80%,
                                            案件总量同比增长较高
                                        </div>
                                        <div class="text-box-item">
                                            今年2月案件345条，其中刑事案件200件，占比较高。
                                        </div>
                                    </div>
                                </div>
                                <div class="boxfoot"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="col-h5">
                        <div class="lsc-layout boxall flex flex-column">
                            <div class="alltitle">收结存统计</div>
                            <div class="flex-auto" style="padding-top: 10px;">
                                <ul class="round-list">
                                    <li>
                                        <div class="round-item">
                                            <span class="round-01"></span>
                                            <span class="round-02"></span>
                                            <span class="round-03"></span>
                                            <p class="c-yellow">3000件</p>
                                            <p>收案</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="round-item">
                                            <span class="round-01"></span>
                                            <span class="round-02"></span>
                                            <span class="round-03"></span>
                                            <p class="c-green">300件</p>
                                            <p>结案</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="round-item">
                                            <span class="round-01"></span>
                                            <span class="round-02"></span>
                                            <span class="round-03"></span>
                                            <p class="c-blue">2600件</p>
                                            <p>旧存</p>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="round-item">
                                            <span class="round-01"></span>
                                            <span class="round-02"></span>
                                            <span class="round-03"></span>
                                            <p class="c-red">700件</p>
                                            <p>未结</p>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <div class="boxfoot"></div>
                        </div>
                    </div>
                    <div class="col-h5">
                        <div class="lsc-layout">
                            <div class="lsc-layout boxall flex flex-column">
                                <div class="alltitle">案件(收案/结案)趋势分析</div>
                                <div id="echarts03" class="flex-auto"></div>
                                <div class="boxfoot"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 更换月份 -->
    <div id="month-form" style="display:none">
        <form class="layui-form">
            <div class="layui-form-item" style="margin-top: 62px;">
                <div class="layui-inline" style="margin-left: 95px;">
                    <label class="layui-form-label" style="width: 100px;">选择年月：</label>
                    <div class="layui-input-inline" >
                        <input type="text" class="layui-input" id="test3" placeholder="YYYY-MM">
                    </div>
                </div>
            </div>
        </form>
    </div>

    <!-- 更换季度 -->
    <div id="quarter-form" style="display:none">
        <form class="layui-form">
            <div class="layui-form-item" style="margin-top: 20px;">
                <div class="layui-inline" >
                    <label class="layui-form-label" style="width: 110px;">选择年份：</label>
                    <div class="layui-input-inline" >
                        <input type="text" class="layui-input" id="test4" placeholder="年份">
                    </div>
                </div>
                <div class="layui-inline">
                    <label class="layui-form-label" style="width: 110px;">选择季度：</label>
                    <div class="layui-input-block" lay-filter="hm2">
                          <select name="hm2" id="hm2" lay-verify="required" >
                          <option value="第一季度">第一季度</option>
                          <option value="第二季度">第二季度</option>
                          <option value="第三季度">第三季度</option>
                          <option value="第四季度">第四季度</option>
                        </select>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <!-- 更换年度 -->
    <div id="year-form" style="display:none">
        <form class="layui-form">
            <div class="layui-form-item" style="margin-top: 62px;">
                <div class="layui-inline" style="margin-left: 95px;">
                    <label class="layui-form-label" style="width: 110px;">选择年份：</label>
                    <div class="layui-input-inline" >
                        <input type="text" class="layui-input" id="test5" placeholder="年份">
                    </div>
                </div>
            </div>
        </form>
    </div>

    <script src="./js/jquery.waypoints.min.js"></script>
    <script src="./js/jquery.countup.min.js"></script>
    <script src="./js/echarts-demo.js"></script>
    <script src="./map/xinyi.js"></script>
    <script type="text/javascript">
        $(function(){
            // 数字滚动
            $('.counter').countUp();

            // 分析切换
            var anpid = 0 ;
            var Analysis = {
                alarm_Timer: null,
                
                FunSwitch: function () {
                    anpid ++ ;
                    if ( anpid == 3) {
                        anpid = 0;
                        return false;
                    }
                    $('.text-box p').eq(anpid).addClass('on').siblings().removeClass('on');
                    $('.text-box-r .text-box-item').eq(anpid).addClass('on').siblings().removeClass('on');
                }
            };
            Analysis.alarm_Timer = setInterval(Analysis.FunSwitch, 3000);
        });

        // 年度，季度，月度tab切换
        $('.layout-tab-menu a').click(function(){
            var index = $(this).index();
            $(this).addClass('active').siblings().removeClass('active');
            $('.date-wrap .date-item').eq(index).addClass('on').siblings().removeClass('on');
        });

        var month = '',
            year = '2019',
            quarter = '第二季度';
        var $date_text = $('.date-text');

        // 日期选择交互
        layui.use(['layer','form', 'layedit', 'laydate'], function(){
            var $ = layui.jquery
            ,form = layui.form
            ,layer = layui.layer
            ,layedit = layui.layedit
            ,laydate = layui.laydate;
            //年月选择器
            laydate.render({
                elem: '#test3'
                ,type: 'month'
                ,done: function(value, date){
                    month = date.year + '年' + date.month + '月';
                }
            });
            //年选择器
            laydate.render({
                elem: '#test4'
                ,type: 'year'
                ,done: function(value, date){
                    year = date.year + '年' ;
                }
            });

            laydate.render({
                elem: '#test5'
                ,type: 'year'
                ,done: function(value, date){
                    year = date.year + '年' ;
                }
            });

            // 季度选中
            form.on('select', function(data){
              console.log(data.elem); //得到select原始DOM对象
              console.log(data.value); //得到被选中的值]
              quarter = data.value;
              console.log(data.othis); //得到美化后的DOM对象
            }); 

            // 更换月份
            $("#openMonth").on('click',function(){
                var that = $(this);
                layer.open({
                    type:1,
                    area:['500px','250px'],
                    title: '更换月份'
                    ,content: $("#month-form"),
                    shade: 0,
                    btn: ['确认', '关闭']
                    ,btn1: function(index, layero){
                        that.siblings(".date-text").html(month);
                        // console.log("month:"+month);
                        layer.closeAll();
                    },
                    btn2: function(index, layero){
                        layer.closeAll();
                    },
                    cancel: function(layero,index){ 
                        layer.closeAll();
                    }
                }); 
            });

            // 更换季度
            $("#openQuarter").on('click',function(){
                var that = $(this);
                layer.open({
                    type:1,
                    area:['350px','380px'],
                    title: '更换季度'
                    ,content: $("#quarter-form"),
                    shade: 0,
                    btn: ['确认', '关闭'],
                    success: function(layero, index){
                        console.log(1);
                        form.render('select');
                    },btn1: function(index, layero){
                        that.siblings(".date-text").html(year+quarter);
                        // console.log("month:"+month);
                        layer.closeAll();
                    },
                    btn2: function(index, layero){
                        layer.closeAll();
                    },
                    cancel: function(layero,index){ 
                        layer.closeAll();
                    }
                }); 
            });

            // 更换年份
            $("#openYear").on('click',function(){
                var that = $(this);
                layer.open({
                    type:1,
                    area:['500px','250px'],
                    title: '更换年度'
                    ,content: $("#year-form"),
                    shade: 0,
                    btn: ['确认', '关闭'],
                    success: function(layero, index){
                        console.log(1);
                        form.render('select');
                    },btn1: function(index, layero){
                        that.siblings(".date-text").html(year);
                        // console.log("month:"+month);
                        layer.closeAll();
                    },
                    btn2: function(index, layero){
                        layer.closeAll();
                    },
                    cancel: function(layero,index){ 
                        layer.closeAll();
                    }
                }); 
            });
        });
        
        
    </script>
</body>

</html>
